# 카카오 픽셀 이벤트 테스트

카카오비즈니스 픽셀 이벤트를 테스트하기 위한 웹페이지입니다.

## 프로젝트 개요

이 프로젝트는 카카오비즈니스 픽셀의 다양한 이벤트를 쉽게 테스트할 수 있는 웹 인터페이스를 제공합니다. 개발자가 픽셀 이벤트의 동작을 확인하고 디버깅할 수 있도록 설계되었습니다.

## 주요 기능

### 지원하는 이벤트 타입
- **방문 이벤트** (pageView): 기본 페이지 조회 이벤트
- **회원가입 이벤트** (completeRegistration): 사용자 가입 완료 이벤트
- **검색 이벤트** (search): 검색 키워드 추적 이벤트
- **컨텐츠 조회 이벤트** (viewContent): 상품/컨텐츠 조회 이벤트
- **위시리스트 추가 이벤트** (addToWishList): 위시리스트 추가 이벤트
- **장바구니 추가 이벤트** (addToCart): 상품 장바구니 추가 이벤트
- **장바구니 조회 이벤트** (viewCart): 장바구니 조회 이벤트
- **구매 이벤트** (purchase): 결제 완료 이벤트

### 통합 UI 디자인
- **드롭다운 이벤트 선택**: 8개 이벤트 타입을 한 곳에서 선택
- **통합 입력 필드**: 모든 매개변수를 하나의 폼에서 관리
- **조건부 실행**: 입력값 조합에 따라 자동으로 적절한 픽셀 호출
- **하나의 실행 버튼**: 선택한 이벤트와 입력값에 맞게 자동 실행

### 사용자 경험
- **상단 고정 헤더**: 그라데이션 블루 배경의 제목과 프로필 이미지
- **실시간 결과 표시**: 상단 고정 영역에 실행 결과 및 애니메이션
- **직관적인 UI/UX**: 깔끔하고 모던한 디자인
- **반응형 디자인**: 모바일 및 데스크톱 지원

## 파일 구조

```
pixelTest_ai/
├── index.html                    # 메인 웹페이지
├── backup_index.html             # 백업 HTML 파일
├── css/
│   └── basic.css                 # 스타일시트
├── js/
│   ├── kakao-pixel-test.js       # 메인 이벤트 처리 JavaScript
│   ├── backup_kakao-pixel-test.js # 백업 JavaScript 파일
│   └── sample.js                 # 참조용 샘플 코드
├── rsc/
│   ├── qaThumb.png              # 웹페이지 파비콘
│   └── alvin.png                # 프로필 이미지
├── README.md                    # 프로젝트 문서
└── CLAUDE.md                   # 개발 가이드
```

## 설치 및 실행

1. 프로젝트 클론 또는 다운로드
2. 웹 브라우저에서 `index.html` 파일 열기
3. Track ID 입력 후 원하는 이벤트 테스트 실행

## 사용 방법

### 1. 기본 설정
- **Track ID**: 카카오 픽셀 Track ID 입력 (필수, 숫자)

### 2. 추가 설정 (모든 항목 선택사항)
- **이벤트 타입**: 드롭다운에서 실행할 이벤트 선택 (필수)
- **태그**: 이벤트와 함께 전송할 태그 값
- **키워드**: 검색 이벤트용 검색 키워드
- **상품 ID**: 상품 고유 식별자
- **상품명**: 상품 이름
- **상품 수량**: 상품 개수
- **상품 가격**: 상품 단가
- **총 수량**: 구매 이벤트용 전체 수량
- **총 가격**: 구매 이벤트용 전체 금액
- **통화**: 가격 단위 (KRW, USD, EUR, JPY)

### 3. 이벤트 실행 로직
시스템이 입력값 조합에 따라 자동으로 적절한 픽셀 호출을 수행합니다:

**방문 이벤트 예시:**
- 태그만 입력 → `kakaoPixel(trackId).pageView(tag)`
- 입력값 없음 → `kakaoPixel(trackId).pageView()`

**장바구니 추가 이벤트 예시:**
- 상품 ID + 태그 입력 → `kakaoPixel(trackId).addToCart({id: "값", tag: "태그"})`
- 상품 ID만 입력 → `kakaoPixel(trackId).addToCart({id: "값"})`
- 입력값 없음 → `kakaoPixel(trackId).addToCart()`

**구매 이벤트 예시:**
- 상품정보 + 구매정보 + 태그 → 복합 데이터 객체로 전송
- 태그만 → `kakaoPixel(trackId).purchase(tag)`
- 입력값 없음 → `kakaoPixel(trackId).purchase()`

## 기술 사양

### 사용된 기술
- **HTML5**: 웹페이지 구조 및 폼 요소
- **CSS3**: 모던 스타일링, 그라데이션, 애니메이션
- **JavaScript (ES6+)**: 이벤트 처리, DOM 조작, 조건부 로직
- **카카오 픽셀 SDK**: `//t1.daumcdn.net/kas/static/kp.dev.min.js`

### 브라우저 지원
- Chrome (권장)
- Firefox
- Safari
- Edge

### 주요 JavaScript 함수
- `executeEvent()`: 메인 이벤트 실행 함수
- `collectInputData()`: 모든 입력값 수집
- `createProductData()`: 상품 데이터 객체 생성
- `createPurchaseData()`: 구매 데이터 객체 생성
- `executePageView()`, `executeAddToCart()` 등: 각 이벤트별 실행 함수

## 디버깅 및 모니터링

### 콘솔 로그
모든 이벤트 실행 시 상세한 콘솔 로그가 출력됩니다:
```javascript
// 예시: 장바구니 추가 이벤트
🛒 [카카오 픽셀 이벤트] 장바구니 추가 (상품정보) {
  event: 'addToCart',
  trackId: '1234567890',
  data: {id: 'product123', name: '상품명', tag: '태그값'},
  timestamp: '2025-07-04T...'
}
```

### 실행 결과 표시
- 상단 고정 영역에 실행 결과 실시간 표시
- 성공/실패 상태에 따른 색상 구분
- 10초 후 자동 숨김 처리
- 실행 시간 타임스탬프 포함

## 예외 처리

- Track ID 필수 입력 검증 (숫자 형식 확인)
- 이벤트 타입 선택 필수 검증
- 카카오 픽셀 스크립트 로드 확인
- 대용량 숫자 정밀도 손실 방지
- 오류 발생 시 사용자 친화적 메시지 표시

## 개발 참고사항

- **개발/프로덕션 환경**: 개발 시 `kp.dev.min.js`, 프로덕션 시 `kp.js` 사용
- **Track ID 처리**: 19자리 큰 숫자도 정밀도 손실 없이 처리
- **sample.js 참조**: 기존 동작하는 코드 패턴을 참조하여 구현
- **백업 파일**: 주요 변경 전 백업 파일 자동 생성
- **CSS 분리**: 스타일과 구조 완전 분리로 유지보수성 향상

## 버전 히스토리

### v2.0 (현재)
- 통합 UI로 전면 개편
- 드롭다운 이벤트 선택 방식
- 8개 이벤트 타입 지원 확장
- 조건부 실행 로직 구현
- 그라데이션 디자인 적용

### v1.0 (백업)
- 개별 이벤트별 섹션 구조
- 5개 기본 이벤트 지원
- 체크박스 기반 옵션 선택

## 라이선스

이 프로젝트는 MIT 라이선스 하에 제공됩니다.

## 기여

버그 리포트나 기능 제안은 이슈를 통해 제출해 주세요.